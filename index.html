
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png" href="/img/favicon.png">
    <title>litdb - type safe SQL for TypeScript/JavaScript</title>
    <script>
    if (location.search === "?dark") localStorage.setItem('color-scheme','dark') 
    if (location.search === "?light") localStorage.removeItem('color-scheme') 
    const cls = document.querySelector('html').classList
    if (localStorage.getItem('color-scheme') === 'dark')
        cls.add('dark')
    else
        cls.remove('dark')
    </script>
    <link rel="stylesheet" href="/css/app.css">
    <link rel="stylesheet" href="/css/typography.css">
    <link rel="stylesheet" href="/css/highlight.css">
    <link rel="stylesheet" href="/css/lite-yt-embed.css">
    <style>
    html { scroll-padding-top: 3rem }
    .prose :where(code):not(:where([class~="not-prose"] *)) {
        width: auto;
    }
    </style>

    <script type="importmap">
{
    "imports": {
        "app.mjs": "/mjs/app.mjs",
        "vue": "/lib/mjs/vue.min.mjs",
        "@servicestack/client": "/lib/mjs/servicestack-client.min.mjs",
        "@servicestack/vue": "/lib/mjs/servicestack-vue.min.mjs",
        "litdb": "/lib/mjs/litdb.min.js"
    }
}
</script>
</head>
<body class="bg-white dark:bg-black dark:text-white">
<header id="header" class="top-0 fixed z-50 h-14 bg-white dark:bg-black opacity-90 w-full shadow">
  <nav class="border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-black">
    <div class="mx-auto max-w-[100rem] pr-4 sm:pr-6 lg:pr-8">
      <div class="flex h-16 justify-between">
        <div class="flex">
          <div class="flex flex-shrink-0 items-center">
            <a class="mr-2 lg:mr-8 flex items-center" href="/">
                <img class="w-8 h-8 mr-1 ml-2 rounded-full" src="/img/logo.png" alt="litdb logo">
                <span class="hidden sm:block text-2xl font-semibold">litdb</span>
            </a>
          </div>
            <div class="hidden sm:-my-px sm:ml-6 sm:flex sm:space-x-4 lg:space-x-8">
                <!-- Current: "border-indigo-500 text-gray-900", Default: "border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700" -->
                        <a href="/overview" class="inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200">
                            Documentation
                        </a>
                        <a href="https://github.com/litdb/litdb/discussions" class="inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200">
                            Discuss
                        </a>
                        <a href="https://github.com/litdb/litdb" class="inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200">
                            <span class='mr-1 text-xl'>&star;</span> GitHub
                        </a>
            </div>
        </div>
        <div class="hidden sm:ml-6 sm:flex sm:items-center">
            <dark-mode-toggle class="ml-2 w-10"></dark-mode-toggle>
        </div>
        <div class="-mr-2 flex items-center sm:hidden">
          <!-- Mobile menu button -->
          <button type="button" v-on:click="open=!open" class="inline-flex items-center justify-center rounded-md bg-white dark:bg-black p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:ring-offset-black" aria-controls="mobile-menu" aria-expanded="false">
            <span class="sr-only">Open main menu</span>
            <!-- Menu open: "hidden", Menu closed: "block" -->
            <svg :class="['h-6 w-6', open ? 'hidden' : 'block']" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
            </svg>
            <!-- Menu open: "block", Menu closed: "hidden" -->
            <svg :class="['h-6 w-6', open ? 'block' : 'hidden']" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Mobile menu, show/hide based on menu state. -->
    <div v-cloak v-if="open" class="sm:hidden">
        <div class="space-y-1 pb-3 pt-2">
            <!-- Current: "border-indigo-500 bg-indigo-50 text-indigo-700", Default: "border-transparent text-gray-600 hover:border-gray-300 hover:bg-gray-50 hover:text-gray-800" -->
                    <a href="/overview" class="block border-l-4 py-2 pl-3 pr-4 text-base font-medium border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-800 dark:hover:text-gray-100">
                        Documentation
                    </a>
                    <a href="https://github.com/litdb/litdb/discussions" class="block border-l-4 py-2 pl-3 pr-4 text-base font-medium border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-800 dark:hover:text-gray-100">
                        Discuss
                    </a>
                    <a href="https://github.com/litdb/litdb" class="block border-l-4 py-2 pl-3 pr-4 text-base font-medium border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-800 dark:hover:text-gray-100">
                        <span class='mr-1 text-xl'>&star;</span> GitHub
                    </a>
        </div>
    </div>
  </nav>
</header>

<script type="module">
import { ref } from "vue"
import { mount } from "app.mjs"

const Header = {
    setup() {
        const open = ref(false)
        return { open }
    }
}
mount('#header', Header)
</script>


<div class="min-h-screen">
    <main role="main" class="pt-8 pb-3">
        
        <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-20 pb-16 text-center lg:pt-32">

            <h1 class="mx-auto max-w-4xl font-display text-5xl font-medium tracking-tight text-slate-900 dark:text-slate-50 sm:text-7xl">
                SQL you know but
                <span class="relative whitespace-nowrap text-blue-600">
                    <svg aria-hidden="true" viewBox="0 0 418 42" class="absolute top-2/3 left-0 h-[0.58em] w-full fill-blue-300/70" preserveAspectRatio="none">
                        <path d="M203.371.916c-26.013-2.078-76.686 1.963-124.73 9.946L67.3 12.749C35.421 18.062 18.2 21.766 6.004 25.934 1.244 27.561.828 27.778.874 28.61c.07 1.214.828 1.121 9.595-1.176 9.072-2.377 17.15-3.92 39.246-7.496C123.565 7.986 157.869 4.492 195.942 5.046c7.461.108 19.25 1.696 19.17 2.582-.107 1.183-7.874 4.31-25.75 10.366-21.992 7.45-35.43 12.534-36.701 13.884-2.173 2.308-.202 4.407 4.442 4.734 2.654.187 3.263.157 15.593-.78 35.401-2.686 57.944-3.488 88.365-3.143 46.327.526 75.721 2.23 130.788 7.584 19.787 1.924 20.814 1.98 24.557 1.332l.066-.011c1.201-.203 1.53-1.825.399-2.335-2.911-1.31-4.893-1.604-22.048-3.261-57.509-5.556-87.871-7.36-132.059-7.842-23.239-.254-33.617-.116-50.627.674-11.629.54-42.371 2.494-46.696 2.967-2.359.259 8.133-3.625 26.504-9.81 23.239-7.825 27.934-10.149 28.304-14.005.417-4.348-3.529-6-16.878-7.066Z"></path>
                    </svg><span class="relative">type safe</span>
                </span>parameterized, expressive &amp; portable
            </h1>

            <div class="my-12 flex justify-center">
                <div class="w-72" data-component="ShellCommand" data-props="{ text:'npm install litdb' }"></div>
            </div>
            
            <p class="mx-auto mt-6 max-w-3xl text-lg tracking-tight text-slate-700 dark:text-slate-200">
                <b>litdb</b> contains LINQ-like <b>type-safe</b> SQL builders for TypeScript/JavaScript for writing
                <b>type-safe</b> <b>expressive SQL</b> that's <b>parameterized</b> &amp; <b>portable</b> across SQLite, MySQL & PostgreSQL
            </p>
        </div>

        <div class="flex justify-center">
            <lite-youtube class="w-full" videoid="0OVXvhj8nU4"
                          style="background-image:url('/img/bg-video.png'); max-width:1280px; max-height:720px"></lite-youtube>
        </div>

        <div id="sql-like" class="flex justify-center py-10">
            <div>
                <h1 class="text-6xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-4 text-center">
                    <a href="#sql-like">SQL-like</a>
                </h1>
                <p class="mx-auto max-w-2xl text-lg tracking-tight text-slate-700 dark:text-slate-200">
                    No need to learn a new query language, <b>litdb</b> lets you write familiar <b>SQL you know</b> 
                    using its <b>type-safe</b> expressions and query builders that's <b>safe by default</b>.
                    <br><br>
                    
                    APIs are designed to keep a close affinity to SQL making it clear what SQL is being generated,  
                    expressions utilize tagged templates to take away the tedium of maintaining table and column
                    references, parameterizing values and catering for different SQL dialects to retain the 
                    <b>expressive</b> freedom of SQL, but <b>portable</b> across multiple RDBMS's.

                    <br><br>
                    The primary difference between SQL is how queries are constructed, where the SELECT Query Builder
                    wants queries to be constructed in
                    <a class="text-blue-500 hover:text-blue-600" href="https://jvns.ca/blog/2019/10/03/sql-queries-don-t-start-with-select/">the order they're run</a>, 
                    by specifying the data sources first, i.e. the FROM table first, followed by any JOINs 
                    (just like <a class="text-blue-500 hover:text-blue-600" href="https://jvns.ca/blog/2019/10/03/sql-queries-don-t-start-with-select/#linq-starts-queries-with-from">LINQ</a>)
                    which allows litdb query builders to provide type safety and intellisense for the rest of the query.
                    <br><br>
                </p>
                <div class="w-96 mx-auto">
                    <a href="https://jvns.ca/blog/2019/10/03/sql-queries-don-t-start-with-select/">
                        <img src="/img/sql-queries.jpeg" alt="SQL queries happen in this order" alt="SQL queries are run in this order"></a>
                </div>
            </div>
        </div>

        <div class="flex justify-center py-10">
            <div class="text-center">
                <div class="flex justify-center items-end">
                    <svg class="text-indigo-600 w-36 h-36 inline-block" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path fill="currentColor" d="M188 96a60 60 0 1 0-60 60a59 59 0 0 0 7.81-.53l-26.27 46.64a12 12 0 0 0 20.92 11.78l49.54-88A59.57 59.57 0 0 0 188 96m-96 0a36 36 0 1 1 36 36a36 36 0 0 1-36-36"/></svg>
                    <div class="text-indigo-600 text-4xl font-semibold pb-4 -ml-10">kb</div>
                </div>
                <h1 class="text-6xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-4 text-center md:text-left">
                    <a id="small" href="#small">Small</a>
                </h1>
                <ul role="list" class="space-y-2 font-display text-base text-slate-700">
                    <li>
                        <span>9kb .min + .zip, 36kb .min</span>
                    </li>
                    <li>
                        <span>0 dependencies</span>
                    </li>
                </ul>
            </div>
        </div>

        <div class="flex justify-center py-10">
            <div class="max-w-screen-lg">
                <h1 class="text-6xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-4 text-center">
                    <a id="install" href="#install">Install</a>
                </h1>
                <div class="prose">
                    
<p>To use litdb with your favorite ORM, no driver is required. Just use the <code>litdb</code> package directly:</p>
<div class="not-prose sh-copy cp flex cursor-pointer mb-3" onclick="copy(this)">
                <div class="flex-grow bg-gray-800">
                    <div class="pl-4 py-1 pb-1.5 align-middle whitespace-pre text-base text-gray-100"><p>npm install litdb</p>
</div>
                    </div>
                <div class="flex">
                    <div class="bg-green-600 text-white p-1.5 pb-0">
                        <svg class="copied w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        <svg class="nocopy w-6 h-6" title="copy" fill='none' stroke='white' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
                            <path stroke-linecap='round' stroke-linejoin='round' stroke-width='1' d='M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2'></path>
                        </svg>
                    </div>
                </div>
            </div>
<p><code>litdb</code> is also available as a module, where it can be used directly in the browser:</p>
<pre><code class="language-html">&lt;script type=&quot;module&quot;&gt;
import { sqlite as $ } from &quot;https://unpkg.com/litdb/dist/index.min.js&quot;
const { sql, params } = $.from(Contact).select(c =&gt; $`${c.name}`).build()
&lt;/script&gt;
</code></pre>
<p>To get the most out of <code>litdb</code> we recommend using text editors that supports TypeScript definitions
(e.g. VS Code, JetBrains IDEs, neovim, etc.)</p>
<h1 id="litdb-drivers">LitDB Drivers<a class="header-anchor" href="javascript:;" onclick="location.hash='#litdb-drivers'" aria-label="Permalink">&ZeroWidthSpace;</a></h1>
<p>Lightweight drivers with native support for its typed SQL Builders and parameterized SQL Expressions
are also available for the popular databases:</p>
<h3 id="bun-sqlite">Bun SQLite<a class="header-anchor" href="javascript:;" onclick="location.hash='#bun-sqlite'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Use with <a href="https://bun.sh/docs/api/sqlite">Bun's native SQLite3 driver</a>:</p>
<div class="not-prose sh-copy cp flex cursor-pointer mb-3" onclick="copy(this)">
                <div class="flex-grow bg-gray-800">
                    <div class="pl-4 py-1 pb-1.5 align-middle whitespace-pre text-base text-gray-100"><p>bun install @litdb/bun-sqlite</p>
</div>
                    </div>
                <div class="flex">
                    <div class="bg-green-600 text-white p-1.5 pb-0">
                        <svg class="copied w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        <svg class="nocopy w-6 h-6" title="copy" fill='none' stroke='white' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
                            <path stroke-linecap='round' stroke-linejoin='round' stroke-width='1' d='M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2'></path>
                        </svg>
                    </div>
                </div>
            </div>
<p>See <a href="/bun-sqlite">litdb Bun SQLite Docs</a></p>
<h3 id="node-better-sqlite">Node better-sqlite<a class="header-anchor" href="javascript:;" onclick="location.hash='#node-better-sqlite'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Use with Node <a href="https://github.com/WiseLibs/better-sqlite3">better-sqlite3</a>:</p>
<div class="not-prose sh-copy cp flex cursor-pointer mb-3" onclick="copy(this)">
                <div class="flex-grow bg-gray-800">
                    <div class="pl-4 py-1 pb-1.5 align-middle whitespace-pre text-base text-gray-100"><p>npm install @litdb/better-sqlite</p>
</div>
                    </div>
                <div class="flex">
                    <div class="bg-green-600 text-white p-1.5 pb-0">
                        <svg class="copied w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        <svg class="nocopy w-6 h-6" title="copy" fill='none' stroke='white' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
                            <path stroke-linecap='round' stroke-linejoin='round' stroke-width='1' d='M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2'></path>
                        </svg>
                    </div>
                </div>
            </div>
<p>See <a href="/better-sqlite">litdb better-sqlite3 Docs</a></p>
<h3 id="postgresql">PostgreSQL<a class="header-anchor" href="javascript:;" onclick="location.hash='#postgresql'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Use with the <a href="https://github.com/porsager/postgres">postgres.js</a> client:</p>
<div class="not-prose sh-copy cp flex cursor-pointer mb-3" onclick="copy(this)">
                <div class="flex-grow bg-gray-800">
                    <div class="pl-4 py-1 pb-1.5 align-middle whitespace-pre text-base text-gray-100"><p>npm install @litdb/postgres</p>
</div>
                    </div>
                <div class="flex">
                    <div class="bg-green-600 text-white p-1.5 pb-0">
                        <svg class="copied w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        <svg class="nocopy w-6 h-6" title="copy" fill='none' stroke='white' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
                            <path stroke-linecap='round' stroke-linejoin='round' stroke-width='1' d='M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2'></path>
                        </svg>
                    </div>
                </div>
            </div>
<p>See <a href="/postgres">litdb postgres Docs</a></p>
<h3 id="mysql">MySQL<a class="header-anchor" href="javascript:;" onclick="location.hash='#mysql'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Use with the <a href="https://github.com/sidorares/node-mysql2">mysql2</a> client:</p>
<div class="not-prose sh-copy cp flex cursor-pointer mb-3" onclick="copy(this)">
                <div class="flex-grow bg-gray-800">
                    <div class="pl-4 py-1 pb-1.5 align-middle whitespace-pre text-base text-gray-100"><p>npm install @litdb/mysql2</p>
</div>
                    </div>
                <div class="flex">
                    <div class="bg-green-600 text-white p-1.5 pb-0">
                        <svg class="copied w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        <svg class="nocopy w-6 h-6" title="copy" fill='none' stroke='white' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
                            <path stroke-linecap='round' stroke-linejoin='round' stroke-width='1' d='M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2'></path>
                        </svg>
                    </div>
                </div>
            </div>
<p>See <a href="/mysql2">litdb mysql2 Docs</a></p>
<h3 id="request-a-driver">Request a Driver<a class="header-anchor" href="javascript:;" onclick="location.hash='#request-a-driver'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>If you'd like to see a driver for a specific client, please open or vote for a feature request on litdb's
<a href="https://github.com/litdb/litdb/discussions/categories/ideas">GitHub Discussions</a>.</p>
<h2 id="driver-usage">Driver Usage<a class="header-anchor" href="javascript:;" onclick="location.hash='#driver-usage'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>litdb drivers are lightweight data adapters providing a number of convenience APIs for executing SQL and parameters.
They can be used with our without litdb SQL Builders, but offer the most value when used together.</p>
<p>The same APIs are available across all drivers, so you can easily switch between them. They include both <strong>sync</strong> APIs
recommended for SQLite libraries that use SQLite's native blocking APIs, whilst <strong>async</strong> APIs should be used for
all other databases, e.g. PostgreSQL and MySQL.</p>
<p>Example of using the <a href="https://bun.sh/docs/api/sqlite">Bun SQLite</a> driver:</p>
<p><strong>db.ts</strong></p>
<pre><code class="language-ts">import { connect } from &quot;@litdb/bun-sqlite&quot;

export const connection = connect(&quot;app.db&quot;) // WAL enabled by default
export const { $, sync:db, async, native } = connection
</code></pre>
<div class="tip custom-block">
            <p class="custom-block-title">TIP</p><p>When needed use <code>native</code> to access underlying driver (e.g. <a href="https://bun.sh/docs/api/sqlite#database">bun:sqlite Database</a>)</p>
</div>
<p><strong>app.ts</strong></p>
<pre><code class="language-ts">import { $, db } from &quot;./db&quot;
import { Contact } from &quot;./models&quot;

db.dropTable(Contact)
db.createTable(Contact)
db.insertAll([
    new Contact({ name:&quot;John Doe&quot;, email:&quot;john@mail.org&quot; }),
    new Contact({ name:&quot;Jane Doe&quot;, email:&quot;jane@mail.org&quot; }),
])

const janeEmail = 'jane@mail.org'
const jane = db.one&lt;Contact&gt;($.from(Contact).where(c =&gt; $`${c.email} = ${janeEmail}`))!

// Insert examples
const { lastInsertRowid: bobId } = db.insert(new Contact({ name:&quot;Bob&quot;, email:&quot;bob@mail.org&quot; }))
const { lastInsertRowid } = db.exec`INSERT INTO Contact(name,email) VALUES ('Jo','jo@doe.org')`
const name = 'Alice', email = 'alice@mail.org'
db.exec`INSERT INTO Contact(name,email) VALUES (${name}, ${email})`

// Typed SQL fragment with named param example
const hasId = &lt;Table extends { id:number }&gt;(id:number|bigint) =&gt;
    (x:Table) =&gt; $.sql($`${x.id} = $id`, { id })

const contacts = db.all($.from(Contact).into(Contact))                // =&gt; Contact[]
const bob = db.one($.from(Contact).where(hasId(bobId)).into(Contact)) // =&gt; Contact    
const contactsCount = db.value($.from(Contact).select`COUNT(*)`)      // =&gt; number
const emails = db.column($.from(Contact).select(c =&gt; $`${c.email}`))  // =&gt; string[]
const contactsArray = db.arrays($.from(Contact))                      // =&gt; any[][]
const bobArray = db.array($.from(Contact).where(hasId(bobId)))        // =&gt; any[]

// Update examples
jane.email = 'jane@doe.org'
db.update(jane)                           // Update all properties
db.update(jane, { onlyProps:['email'] })  // Update only email
db.exec($.update(Contact).set({ email:jane.email }).where(hasId(jane.id))) // query builder

// Delete examples
db.delete(jane)
db.exec($.deleteFrom(Contact).where(hasId(jane.id))) // query builder
</code></pre>
<p>Same source is compatible with other sync drivers, e.g. can replace <code>@litdb/bun-sqlite</code> with <code>@litdb/better-sqlite</code> to use
with <a href="/better-sqlite#usage">better-sqlite</a>. See also async usage docs for <a href="/postgres#usage">postgres</a> and <a href="/mysql2#usage">mysql2</a>.</p>

                </div>
            </div>
        </div>

        <div class="flex justify-center py-10">
            <div class="max-w-screen-lg">
                <h1 class="text-6xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-4 text-center">
                    <a id="type-safe" href="#type-safe">Type Safe</a>
                </h1>
                <div class="mt-8 flex justify-center">
                    <div class="prose">
                        
<p>Get productive intelli-sense for quickly accessing properties that exist your data model
or design-time type-checking and compile-time static analysis errors for those that don't.</p>
<p><img src="/img/features/typesafe.png" alt="" /></p>
<p>Only reference table and columns that are included in your query, quickly identify missing tables, columns and any typos:</p>
<p><img src="/img/features/typesafe2.png" alt="" /></p>

                    </div>
                </div>
            </div>
        </div>

        <div class="flex justify-center py-10">
            <div class="max-w-screen-lg">
                <h1 class="text-6xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-4 text-center">
                    <a id="safe-refactoring" href="#safe-refactoring">Safe Refactoring</a>
                </h1>
                <div class="mt-8 flex justify-center">
                    <div class="prose">
                        
<p>All references are statically typed to your models so you can safely refactor with confidence!</p>
<video autoplay="autoplay" loop="loop" controls>
    <source src="/img/features/safe-refactoring.mp4" type="video/mp4">
</video>

                    </div>
                </div>
            </div>
        </div>

        <link rel="stylesheet" href="/codemirror/lib/codemirror.css">
<link rel="stylesheet" href="/codemirror/theme/mocha.css" />
<script src="/codemirror/lib/codemirror.js"></script>
<script src="/codemirror/mode/javascript/javascript.js"></script>
<script src="/codemirror/addon/edit/matchbrackets.js"></script>
<script src="/codemirror/addon/selection/active-line.js"></script>


        <div class="flex justify-center py-10">
            <div class="max-w-screen-lg">
                <h1 class="text-6xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-4 text-center">
                    <a id="composable" href="#composable">Composable</a>
                </h1>
                <div class="mt-8 flex justify-center">
                    <div id="composable-doc" class="prose">
                        
<p>Queries are highly composable where external references can be used across multiple Query Builders and SQL fragments
to easily create and compose multiple complex queries with shared references.</p>
<p>SQL Builders and SQL fragments can be embedded inside other query builders utilizing the full expressiveness of SQL
where their SQL and parameters are merged into the parent query.</p>
<p><live-preview src="/mjs/composable.mjs"></live-preview></p>

                    </div>
                </div>
            </div>
        </div>
        <script type="module">
            import { ref } from "vue"
            import { mount } from "app.mjs"
            const App = {
                setup(app) {
                    function nav(url) {
                        window.open(url)
                    }
                    return { nav }
                }
            }
            mount('#composable-doc', App)
        </script>

    </main>
</div>



<p class="my-4 text-center text-xs leading-5 text-gray-500">
    <a href="https://github.com/NetCoreTemplates/razor-press">powered by razor press</a>
</p>

<script type="module">
import { init } from "app.mjs"
init()
</script>
<script src="/lib/js/lite-yt-embed.js"></script>
<script src="/mjs/docs.mjs" type="module"></script>
<script src="/lib/js/highlight.js"></script>
<script>hljs.highlightAll()</script>

</body>
</html>